<?php
ini_set("memory_limit",-1);
ini_set('max_execution_time', 600); //300 seconds = 5 minutes
include_once '../config.php';
include_once '../inc/functions.php';
$rows = $db->func_query("SELECT a.product_id, a.sku,a.ignore_up,a.price 
FROM  `oc_product` a
WHERE status=1 limit 8519,2000 ");
$fp = fopen('true_cost_sku.csv', "w");
$headers = array("SKU", "True Cost");
fputcsv($fp, $headers);
$rows=array('APL-001-2111',
'SRN-LGM-248',
'APL-001-2299',
'APL-001-2136',
'APL-001-2116',
'SRN-LGM-685',
'APL-001-2220',
'APL-001-1252',
'APL-001-2108',
'SRN-SAM-1457',
'APL-001-2229',
'SRN-LGM-312',
'APL-001-2107',
'APL-001-2310',
'APL-001-0282',
'APL-001-2280',
'SRN-BLB-073',
'SRN-SAM-244',
'APL-001-0728',
'APL-001-2211',
'SRN-HTC-294',
'SRN-HTC-578',
'SRN-SAM-1426',
'SRN-SAM-686',
'APL-001-2065',
'SRN-SAM-1404',
'SRN-SAM-246',
'APL-001-2202',
'APL-001-2222',
'SRN-LGM-222',
'SRN-MOT-312',
'SRN-SAM-1395',
'SRN-SAM-474',
'APL-001-0462',
'APL-001-2090',
'APL-001-2198',
'APL-001-2275',
'APL-001-2333',
'SRN-HTC-556',
'SRN-LGM-200',
'SRN-LGM-314',
'SRN-MOT-659',
'SRN-SAM-1331',
'SRN-SAM-316',
'APL-001-0018',
'APL-001-0102',
'APL-001-0186',
'APL-001-0594',
'APL-001-0702',
'APL-001-0914',
'APL-001-0974',
'APL-001-2047',
'APL-001-2089',
'APL-001-2100',
'APL-001-2189',
'APL-001-2197',
'APL-001-2200',
'APL-001-2201',
'APL-001-2203',
'APL-001-2257',
'APL-001-2311',
'SRN-BLB-024',
'SRN-HTC-168',
'SRN-HTC-396',
'SRN-HTC-498',
'SRN-HTC-516',
'SRN-HTC-552',
'SRN-HTC-600',
'SRN-LGM-090',
'SRN-LGM-114',
'SRN-LGM-180',
'SRN-LGM-216',
'SRN-LGM-298',
'SRN-LGM-310',
'SRN-LGM-627',
'SRN-LGM-630',
'SRN-LGM-677',
'SRN-MOT-294',
'SRN-MOT-300',
'SRN-MOT-332',
'SRN-MOT-410',
'SRN-MOT-606',
'SRN-MOT-615',
'SRN-MOT-683',
'SRN-NOK-062',
'SRN-NOK-070',
'SRN-PAN-006',
'SRN-SAM-1289',
'SRN-SAM-1338',
'SRN-SAM-1351',
'SRN-SAM-1390',
'SRN-SAM-1422',
'SRN-SAM-1427',
'SRN-SAM-1434',
'SRN-SAM-1489',
'SRN-SAM-224',
'SRN-SAM-230',
'SRN-SAM-256',
'SRN-SAM-258',
'SRN-SAM-464',
'TAB-SRN-004',
'TAB-SRN-230',
'TAB-SRN-334',
'TAB-SRN-386',
'TAB-SRN-392',
'TAB-SRN-516',
'TAB-SRN-566',
'TAB-SRN-573',
'TAB-SRN-662',
'TAB-SRN-757',
'APL-001-0042',
'APL-001-0090',
'APL-001-0410',
'APL-001-0411',
'APL-001-0482',
'APL-001-0518',
'APL-001-0558',
'APL-001-0564',
'APL-001-0718',
'APL-001-0936',
'APL-001-0948',
'APL-001-0950',
'APL-001-1010',
'APL-001-1238',
'APL-001-1240',
'APL-001-1242',
'APL-001-1254',
'APL-001-1256',
'APL-001-1722',
'APL-001-1946',
'APL-001-2092',
'APL-001-2122',
'APL-001-2178',
'APL-001-2179',
'APL-001-2195',
'APL-001-2199',
'APL-001-2214',
'APL-001-2223',
'SRN-BLB-018',
'SRN-BLB-040',
'SRN-HTC-048',
'SRN-HTC-078',
'SRN-HTC-1147',
'SRN-HTC-252',
'SRN-HTC-276',
'SRN-HTC-318',
'SRN-HTC-354',
'SRN-HTC-438',
'SRN-HTC-572',
'SRN-HTC-764',
'SRN-HTC-776',
'SRN-HUA-054',
'SRN-LGM-146',
'SRN-LGM-204',
'SRN-LGM-210',
'SRN-LGM-306',
'SRN-LGM-308',
'SRN-LGM-324',
'SRN-LGM-336',
'SRN-LGM-356',
'SRN-LGM-559',
'SRN-LGM-581',
'SRN-LGM-583',
'SRN-LGM-616',
'SRN-LGM-662',
'SRN-MOT-048',
'SRN-MOT-296',
'SRN-MOT-326',
'SRN-MOT-610',
'SRN-MOT-653',
'SRN-MOT-660',
'SRN-NOK-006',
'SRN-NOK-054',
'SRN-NOK-066',
'SRN-SAM-006',
'SRN-SAM-054',
'SRN-SAM-1198',
'SRN-SAM-1214',
'SRN-SAM-1253',
'SRN-SAM-1271',
'SRN-SAM-1273',
'SRN-SAM-1292',
'SRN-SAM-1297',
'SRN-SAM-1326',
'SRN-SAM-1389',
'SRN-SAM-1393',
'SRN-SAM-1416',
'SRN-SAM-1428',
'SRN-SAM-192',
'SRN-SAM-266',
'SRN-SAM-326',
'SRN-SAM-418',
'SRN-SAM-592',
'SRN-SAM-654',
'SRN-SAM-716',
'SRN-SAM-720',
'TAB-SRN-024',
'TAB-SRN-042',
'TAB-SRN-304',
'TAB-SRN-340',
'TAB-SRN-508',
'TAB-SRN-512',
'TAB-SRN-563',
'TAB-SRN-577',
'TAB-SRN-580',
'TAB-SRN-615',
'TAB-SRN-665',
'APL-001-0519',
'APL-001-2114',
'APL-001-2115',
'APL-001-2219',
'SRN-HTC-1126',
'SRN-HTC-402',
'SRN-LGM-176',
'SRN-LGM-198',
'SRN-LGM-246',
'SRN-MOT-688',
'SRN-NOK-024',
'SRN-SAM-1293',
'SRN-SAM-1334',
'SRN-SAM-1425',
'SRN-SAM-1436',
'SRN-SAM-274',
'SRN-SAM-312',
'SRN-SAM-496',
'SRN-SAM-528',
'SRN-SAM-860',
'SRN-SNY-082',
'APL-001-0084',
'APL-001-0422',
'APL-001-0534',
'APL-001-0730',
'APL-001-2152',
'APL-001-2215',
'APL-001-2309',
'SRN-BLB-020',
'SRN-LGM-182',
'SRN-LGM-252',
'SRN-MOT-132',
'SRN-MOT-288',
'SRN-SAM-400',
'SRN-SAM-462',
'TAB-SRN-228',
'APL-001-0096',
'APL-001-2120',
'APL-001-2134',
'APL-001-2185',
'APL-001-2225',
'APL-001-2230',
'SRN-HTC-1142',
'SRN-HTC-474',
'SRN-HTC-654',
'SRN-SAM-382',
'TAB-SRN-616',
'APL-001-0276',
'APL-001-1258',
'APL-001-2109',
'APL-001-2218',
'SRN-BLB-074',
'SRN-HTC-030',
'SRN-LGM-284',
'SRN-SAM-216',
'SRN-SAM-688',
'APL-001-2207',
'SRN-HTC-282',
'SRN-SAM-1445',
'SRN-SAM-694',
'SRN-HTC-602',
'SRN-HTC-462',
'SRN-LGM-224',
'SRN-SAM-388',
'APL-001-2308',
'APL-001-1736',
'SRN-LGM-184',
'APL-001-2232',
'APL-001-2121',
'SRN-SAM-692',
'SRN-BLB-070',
'SRN-LGM-030',
'APL-001-2231',
'SRN-SAM-1306',
'SRN-SAM-1491',
'APL-001-2253',
'SRN-SAM-656',
'SRN-SAM-658',
'APL-001-2336'
);
foreach($rows as $row)
{
$rowData = array($row,getTrueCost($row)
		);
	
	 fputcsv($fp, $rowData);
	
}
fclose($fp);
echo 'success';
?>